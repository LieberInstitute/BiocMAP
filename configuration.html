<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>8 Configuration | BiocMAP</title>
  <meta name="description" content="8 Configuration | BiocMAP" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="8 Configuration | BiocMAP" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8 Configuration | BiocMAP" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="outputs.html"/>
<link rel="next" href="software.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a>
<ul>
<li><a href="index.html#cite-biocmap">Cite <code>BiocMAP</code></a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#r-session-information"><i class="fa fa-check"></i>R session information</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="quick-start.html"><a href="quick-start.html"><i class="fa fa-check"></i><b>1</b> Quick Start</a>
<ul>
<li class="chapter" data-level="1.1" data-path="quick-start.html"><a href="quick-start.html#setup"><i class="fa fa-check"></i><b>1.1</b> Setup</a></li>
<li class="chapter" data-level="1.2" data-path="quick-start.html"><a href="quick-start.html#quick-config"><i class="fa fa-check"></i><b>1.2</b> Configuration</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="quick-start.html"><a href="quick-start.html#your-main-script"><i class="fa fa-check"></i><b>1.2.1</b> Your “main” script</a></li>
<li class="chapter" data-level="1.2.2" data-path="quick-start.html"><a href="quick-start.html#your-config-file"><i class="fa fa-check"></i><b>1.2.2</b> Your config file</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="setup-details.html"><a href="setup-details.html"><i class="fa fa-check"></i><b>2</b> Setup Details</a>
<ul>
<li class="chapter" data-level="2.1" data-path="setup-details.html"><a href="setup-details.html#requirements"><i class="fa fa-check"></i><b>2.1</b> Requirements</a></li>
<li class="chapter" data-level="2.2" data-path="setup-details.html"><a href="setup-details.html#installation"><i class="fa fa-check"></i><b>2.2</b> Installation</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="setup-details.html"><a href="setup-details.html#troubleshooting"><i class="fa fa-check"></i><b>2.2.1</b> Troubleshooting</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="setup-details.html"><a href="setup-details.html#run-the-pipeline"><i class="fa fa-check"></i><b>2.3</b> Run the Pipeline</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="setup-details.html"><a href="setup-details.html#run-in-a-slurm-environment-cluster"><i class="fa fa-check"></i><b>2.3.1</b> Run in a SLURM environment/ cluster</a></li>
<li class="chapter" data-level="2.3.2" data-path="setup-details.html"><a href="setup-details.html#run-on-a-sun-grid-engines-sge-cluster"><i class="fa fa-check"></i><b>2.3.2</b> Run on a Sun Grid Engines (SGE) cluster</a></li>
<li class="chapter" data-level="2.3.3" data-path="setup-details.html"><a href="setup-details.html#run-locally"><i class="fa fa-check"></i><b>2.3.3</b> Run locally</a></li>
<li class="chapter" data-level="2.3.4" data-path="setup-details.html"><a href="setup-details.html#run-on-the-jhpce-cluster"><i class="fa fa-check"></i><b>2.3.4</b> Run on the <span>JHPCE</span> cluster</a></li>
<li class="chapter" data-level="2.3.5" data-path="setup-details.html"><a href="setup-details.html#example-main-script"><i class="fa fa-check"></i><b>2.3.5</b> Example main script</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="setup-details.html"><a href="setup-details.html#sharing"><i class="fa fa-check"></i><b>2.4</b> Sharing the pipeline with many users</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="setup-details.html"><a href="setup-details.html#customizing-execution-for-each-user"><i class="fa fa-check"></i><b>2.4.1</b> Customizing execution for each user</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="command-opts.html"><a href="command-opts.html"><i class="fa fa-check"></i><b>3</b> All Command Options</a>
<ul>
<li class="chapter" data-level="3.1" data-path="command-opts.html"><a href="command-opts.html#biocmap-options"><i class="fa fa-check"></i><b>3.1</b> BiocMAP Options</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="command-opts.html"><a href="command-opts.html#mandatory-parameters"><i class="fa fa-check"></i><b>3.1.1</b> Mandatory Parameters</a></li>
<li class="chapter" data-level="3.1.2" data-path="command-opts.html"><a href="command-opts.html#optional-parameters"><i class="fa fa-check"></i><b>3.1.2</b> Optional Parameters</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="command-opts.html"><a href="command-opts.html#next-opts"><i class="fa fa-check"></i><b>3.2</b> Nextflow Options</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="pipeline-overview.html"><a href="pipeline-overview.html"><i class="fa fa-check"></i><b>4</b> Pipeline Overview</a>
<ul>
<li class="chapter" data-level="4.1" data-path="pipeline-overview.html"><a href="pipeline-overview.html#preparation-steps"><i class="fa fa-check"></i><b>4.1</b> Preparation Steps</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="pipeline-overview.html"><a href="pipeline-overview.html#downloading-and-preparing-required-annotation-files"><i class="fa fa-check"></i><b>4.1.1</b> Downloading and preparing required annotation files</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="pipeline-overview.html"><a href="pipeline-overview.html#main-workflow-steps-first-module"><i class="fa fa-check"></i><b>4.2</b> Main Workflow Steps: First Module</a></li>
<li class="chapter" data-level="4.3" data-path="pipeline-overview.html"><a href="pipeline-overview.html#main-workflow-steps-second-module"><i class="fa fa-check"></i><b>4.3</b> Main Workflow Steps: Second Module</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="annotation.html"><a href="annotation.html"><i class="fa fa-check"></i><b>5</b> Annotation</a>
<ul>
<li class="chapter" data-level="5.1" data-path="annotation.html"><a href="annotation.html#default-annotation"><i class="fa fa-check"></i><b>5.1</b> Default Annotation</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="annotation.html"><a href="annotation.html#choosing-a-release"><i class="fa fa-check"></i><b>5.1.1</b> Choosing a release</a></li>
<li class="chapter" data-level="5.1.2" data-path="annotation.html"><a href="annotation.html#choosing-build"><i class="fa fa-check"></i><b>5.1.2</b> Choosing a “build”</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="annotation.html"><a href="annotation.html#custom-annotation"><i class="fa fa-check"></i><b>5.2</b> Custom Annotation</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="inputs.html"><a href="inputs.html"><i class="fa fa-check"></i><b>6</b> Inputs</a>
<ul>
<li class="chapter" data-level="6.1" data-path="inputs.html"><a href="inputs.html#the-samples.manifest-file"><i class="fa fa-check"></i><b>6.1</b> The <code>samples.manifest</code> File</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="inputs.html"><a href="inputs.html#what-samples.manifest-should-look-like"><i class="fa fa-check"></i><b>6.1.1</b> What <code>samples.manifest</code> should look like</a></li>
<li class="chapter" data-level="6.1.2" data-path="inputs.html"><a href="inputs.html#more-details-regarding-inputs"><i class="fa fa-check"></i><b>6.1.2</b> More details regarding inputs</a></li>
<li class="chapter" data-level="6.1.3" data-path="inputs.html"><a href="inputs.html#creating-a-manifest-file"><i class="fa fa-check"></i><b>6.1.3</b> Creating a manifest file</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="inputs.html"><a href="inputs.html#the-rules.txt-file"><i class="fa fa-check"></i><b>6.2</b> The <code>rules.txt</code> File</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="inputs.html"><a href="inputs.html#what-rules.txt-should-look-like"><i class="fa fa-check"></i><b>6.2.1</b> What <code>rules.txt</code> should look like</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="outputs.html"><a href="outputs.html"><i class="fa fa-check"></i><b>7</b> Outputs</a>
<ul>
<li class="chapter" data-level="7.1" data-path="outputs.html"><a href="outputs.html#main-outputs"><i class="fa fa-check"></i><b>7.1</b> Main Outputs</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="outputs.html"><a href="outputs.html#cpg-bsseq-object"><i class="fa fa-check"></i><b>7.1.1</b> CpG <em>bsseq</em> object</a></li>
<li class="chapter" data-level="7.1.2" data-path="outputs.html"><a href="outputs.html#cph-bsseq-object"><i class="fa fa-check"></i><b>7.1.2</b> CpH <em>bsseq</em> object</a></li>
<li class="chapter" data-level="7.1.3" data-path="outputs.html"><a href="outputs.html#storage-method"><i class="fa fa-check"></i><b>7.1.3</b> Storage method</a></li>
<li class="chapter" data-level="7.1.4" data-path="outputs.html"><a href="outputs.html#metrics"><i class="fa fa-check"></i><b>7.1.4</b> Metrics</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="outputs.html"><a href="outputs.html#intermediary-outputs"><i class="fa fa-check"></i><b>7.2</b> Intermediary Outputs</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="outputs.html"><a href="outputs.html#first-module"><i class="fa fa-check"></i><b>7.2.1</b> First Module</a></li>
<li class="chapter" data-level="7.2.2" data-path="outputs.html"><a href="outputs.html#second-module"><i class="fa fa-check"></i><b>7.2.2</b> Second Module</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="configuration.html"><a href="configuration.html"><i class="fa fa-check"></i><b>8</b> Configuration</a>
<ul>
<li class="chapter" data-level="8.1" data-path="configuration.html"><a href="configuration.html#specifying-options-for-your-cluster"><i class="fa fa-check"></i><b>8.1</b> Specifying Options for your Cluster</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="configuration.html"><a href="configuration.html#time"><i class="fa fa-check"></i><b>8.1.1</b> Time</a></li>
<li class="chapter" data-level="8.1.2" data-path="configuration.html"><a href="configuration.html#cluster-specific-options"><i class="fa fa-check"></i><b>8.1.2</b> Cluster-specific options</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="configuration.html"><a href="configuration.html#biocmap-settings"><i class="fa fa-check"></i><b>8.2</b> BiocMAP settings</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="configuration.html"><a href="configuration.html#annotation-settings"><i class="fa fa-check"></i><b>8.2.1</b> Annotation settings</a></li>
<li class="chapter" data-level="8.2.2" data-path="configuration.html"><a href="configuration.html#arioc-settings"><i class="fa fa-check"></i><b>8.2.2</b> Arioc settings</a></li>
<li class="chapter" data-level="8.2.3" data-path="configuration.html"><a href="configuration.html#miscellaneous-settings"><i class="fa fa-check"></i><b>8.2.3</b> Miscellaneous settings</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="software.html"><a href="software.html"><i class="fa fa-check"></i><b>9</b> Software</a>
<ul>
<li class="chapter" data-level="9.1" data-path="software.html"><a href="software.html#software-versions"><i class="fa fa-check"></i><b>9.1</b> Software Versions</a></li>
<li class="chapter" data-level="9.2" data-path="software.html"><a href="software.html#docker-images"><i class="fa fa-check"></i><b>9.2</b> Docker Images</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="help.html"><a href="help.html"><i class="fa fa-check"></i><b>10</b> Help</a>
<ul>
<li class="chapter" data-level="10.1" data-path="help.html"><a href="help.html#common-errors"><i class="fa fa-check"></i><b>10.1</b> Common Errors</a></li>
<li class="chapter" data-level="10.2" data-path="help.html"><a href="help.html#resuming"><i class="fa fa-check"></i><b>10.2</b> Resuming</a></li>
<li class="chapter" data-level="10.3" data-path="help.html"><a href="help.html#docker-help"><i class="fa fa-check"></i><b>10.3</b> Docker help</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">BiocMAP</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="configuration" class="section level1" number="8">
<h1><span class="header-section-number">8</span> Configuration</h1>
<p>BiocMAP is designed to be highly customizable, yet need no configuration from a user wishing to rely on sensible default settings. Most configuration, including software settings, hardware resources such as memory and CPU use, and more, can be done in a single file determined <a href="quick-start.html#your-config-file">here</a>. Please note that the common, “major” <a href="command-opts.html#command-opts">options</a> are specified in your <a href="quick-start.html#your-main-script">main script</a>, and not in the configuration file. The config is intended to hold the “finer details”, which are documented below.</p>
<div id="specifying-options-for-your-cluster" class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> Specifying Options for your Cluster</h2>
<p>In many cases, a user has access to a computing cluster which they intend to run BiocMAP on. If your cluster is SLURM or SGE-based, the pipeline is pre-configured with options you may be used to specifying (such as disk usage, time for a job to run, etc). However, these are straightforward to modify, should there be a need/desire. Common settings are described in detail below; however, a more comprehensive list of settings from nextflow can be found <a href="https://www.nextflow.io/docs/latest/process.html#directives">here</a>.</p>
<div id="time" class="section level3" number="8.1.1">
<h3><span class="header-section-number">8.1.1</span> Time</h3>
<p>The maximum allowed run time for a process, or step in the pipeline, can be specified. This may be necessary for users who are charged based on run time for their jobs.</p>
<div id="default-for-all-processes" class="section level4" number="8.1.1.1">
<h4><span class="header-section-number">8.1.1.1</span> Default for all processes</h4>
<p>The simplest change you may wish to make is to relax time constraints for all processes. The setting for this is here:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb24-1"><a href="configuration.html#cb24-1" aria-hidden="true" tabindex="-1"></a>executor <span class="op">{</span></span>
<span id="cb24-2"><a href="configuration.html#cb24-2" aria-hidden="true" tabindex="-1"></a>    name <span class="op">=</span> <span class="st">&#39;sge&#39;</span></span>
<span id="cb24-3"><a href="configuration.html#cb24-3" aria-hidden="true" tabindex="-1"></a>    queueSize <span class="op">=</span> <span class="dv">40</span></span>
<span id="cb24-4"><a href="configuration.html#cb24-4" aria-hidden="true" tabindex="-1"></a>    submitRateLimit <span class="op">=</span> <span class="st">&#39;1 sec&#39;</span></span>
<span id="cb24-5"><a href="configuration.html#cb24-5" aria-hidden="true" tabindex="-1"></a>    exitReadTimeout <span class="op">=</span> <span class="st">&#39;40 min&#39;</span></span>
<span id="cb24-6"><a href="configuration.html#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb24-7"><a href="configuration.html#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="configuration.html#cb24-8" aria-hidden="true" tabindex="-1"></a>process <span class="op">{</span></span>
<span id="cb24-9"><a href="configuration.html#cb24-9" aria-hidden="true" tabindex="-1"></a>    cache <span class="op">=</span> <span class="st">&#39;lenient&#39;</span></span>
<span id="cb24-10"><a href="configuration.html#cb24-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb24-11"><a href="configuration.html#cb24-11" aria-hidden="true" tabindex="-1"></a>    time <span class="op">=</span> <span class="fl">10.</span>hour  <span class="co">// this can be adjusted as needed</span></span></code></pre></div>
<p>While the syntax is not strict, some examples for properly specifying the option are <code>time = '5m'</code>, <code>time = '2h'</code>, and <code>time = '1d'</code> (minutes, hours, and days, respectively).</p>
</div>
<div id="specify-per-process" class="section level4" number="8.1.1.2">
<h4><span class="header-section-number">8.1.1.2</span> Specify per-process</h4>
<p>Time restrictions may also be specified for individual workflow steps. This can be done with the same syntax- suppose you wish to request 30 minutes for a given sample to be trimmed (note process names <a href="pipeline-overview.html#pipeline-overview">here</a>). In the “process” section of your config, find the section labelled “withName: Trimming” as in the example here:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb25-1"><a href="configuration.html#cb25-1" aria-hidden="true" tabindex="-1"></a>withName<span class="op">:</span> Trimming <span class="op">{</span></span>
<span id="cb25-2"><a href="configuration.html#cb25-2" aria-hidden="true" tabindex="-1"></a>    cpus <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb25-3"><a href="configuration.html#cb25-3" aria-hidden="true" tabindex="-1"></a>    memory <span class="op">=</span> <span class="fl">5.G</span>B</span>
<span id="cb25-4"><a href="configuration.html#cb25-4" aria-hidden="true" tabindex="-1"></a>    time <span class="op">=</span> <span class="st">&#39;30m&#39;</span> <span class="co">// specify a maximum run time of 30 minutes</span></span>
<span id="cb25-5"><a href="configuration.html#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
</div>
</div>
<div id="cluster-specific-options" class="section level3" number="8.1.2">
<h3><span class="header-section-number">8.1.2</span> Cluster-specific options</h3>
<p>In some cases, you may find it simpler to directly specify options accepted by your cluster. For example, SGE users with a default limit on the maximum file size they may directly adjust the “h_fsize” variable as below:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb26-1"><a href="configuration.html#cb26-1" aria-hidden="true" tabindex="-1"></a>withName<span class="op">:</span> FilterAlignments <span class="op">{</span></span>
<span id="cb26-2"><a href="configuration.html#cb26-2" aria-hidden="true" tabindex="-1"></a>    cpus <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb26-3"><a href="configuration.html#cb26-3" aria-hidden="true" tabindex="-1"></a>    penv <span class="op">=</span> <span class="st">&#39;local&#39;</span></span>
<span id="cb26-4"><a href="configuration.html#cb26-4" aria-hidden="true" tabindex="-1"></a>    memory <span class="op">=</span> <span class="fl">16.G</span>B</span>
<span id="cb26-5"><a href="configuration.html#cb26-5" aria-hidden="true" tabindex="-1"></a>    clusterOptions <span class="op">=</span> <span class="st">&#39;-l h_fsize=800G&#39;</span></span>
<span id="cb26-6"><a href="configuration.html#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>As with the time option, this can be specified per-process or for all processes. Any option recognized by your cluster may be used.</p>
</div>
</div>
<div id="biocmap-settings" class="section level2" number="8.2">
<h2><span class="header-section-number">8.2</span> BiocMAP settings</h2>
<p>A number of variables in your <a href="quick-start.html#your-config-file">config file</a> exist to control choices about annotation to use, options passed to software tools, and more. These need not necessarily be changed, but allow more precise control over the pipeline if desired. Values for these variables may be changed in the “params” section of your config (near the top). A full descriptive list is provided below.</p>
<div id="annotation-settings" class="section level3" number="8.2.1">
<h3><span class="header-section-number">8.2.1</span> Annotation settings</h3>
<ul>
<li><em>gencode_version_human</em>: the GENCODE release to use for default (non-custom) annotation, when “hg38” or “hg19” references are used. A string, such as “32”.</li>
<li><em>gencode_version_mouse</em>: the GENCODE release to use for default (non-custom) annotation, when “mm10” reference is used. A string, such as “M23”.</li>
<li><em>anno_build</em>: controls which sequences are used in analysis with default (non-custom) annotation. “main” indicates only canonical reference sequences; “primary” includes additional scaffolds.</li>
</ul>
</div>
<div id="arioc-settings" class="section level3" number="8.2.2">
<h3><span class="header-section-number">8.2.2</span> Arioc settings</h3>
<p>Below, we document how the names of settings accepted by BiocMAP correspond to variables in Arioc configuration. For documentation on those Arioc configuration variables, see <a href="https://raw.githubusercontent.com/RWilton/Arioc/master/Arioc.guide.pdf">here</a>.</p>
<ul>
<li><em>arioc_queue</em>: when running BiocMAP on an SGE/SLURM-based cluster, it is assumed GPU resources are available via a “queue” on the cluster. This variable must be set by the user to the queue name, in order to properly run BiocMAP.</li>
<li><em>batch_size</em>: this is passed to the “batchSize” attribute of the “AriocU” or “AriocP” element of the config for <code>AriocU</code> or <code>AriocP</code>.</li>
<li><em>gapped_seed</em>: this is passed to the “seed” attribute of the “gapped” element of the config for <code>AriocU</code> or <code>AriocP</code>.</li>
<li><em>nongapped_seed</em>: this is passed to the “seed” attribute of the “nongapped” of the config for <code>AriocU</code> or <code>AriocP</code>.</li>
<li><em>gapped_args</em>: these arguments in string form are passed literally to the “gapped” element of the config for <code>AriocU</code> or <code>AriocP</code>.</li>
<li><em>nongapped_args</em>: these arguments in string form are passed literally to the “nongapped” element of the config for <code>AriocU</code> or <code>AriocP</code>.</li>
<li><em>x_args</em>: these arguments in string form are passed literally to the “X” element of the config for <code>AriocU</code> or <code>AriocP</code>.</li>
<li><em>gpu_mask</em>: this is passed to the “gpuMask” attribute of the “AriocU” or “AriocP” element of the config for <code>AriocU</code> or <code>AriocP</code>.</li>
<li><em>max_gpus</em>: an integer, specifying how many GPUs to use, per sample, during alignment. Generally, it is recommended to keep this value at <code>1</code> unless there are more GPUs available than samples in your dataset.</li>
<li><em>manually_set_gpu</em>: (<code>true</code> or <code>false</code>) a boolean specifying whether to have BiocMAP search for an available GPU and set <code>CUDA_VISIBLE_DEVICES</code> “manually” when performing alignment. Generally, this should be set to <code>false</code> on computing clusters managed by a job scheduler like SLURM or SGE, since typically a proper job scheduler handles these details on behalf of the user. By contrast, on a local machine (where typically there is no job scheduler), this variable should be set to <code>true</code> to ensure two samples don’t get aligned simultaneously on the same GPU (which often results in crashing due to insufficient memory).</li>
<li><em>gpu_perc_usage_cutoff</em>: a percentage, specified as an integer, of GPU utilization (as measured by <code>nvidia-smi</code>) below which a GPU is considered “unoccupied” and thus available to use during alignment with Arioc. This setting only applies if <code>manually_set_gpu</code> is <code>true</code>.</li>
</ul>
</div>
<div id="miscellaneous-settings" class="section level3" number="8.2.3">
<h3><span class="header-section-number">8.2.3</span> Miscellaneous settings</h3>
<p>[TODO: BRIEF DESCRIPTION]</p>
<ul>
<li><em>kallisto_single_args</em>: literal arguments to pass to ‘kallisto quant’ for single-end samples, as part of the process for estimating bisulfite conversion efficiency when using the ‘–with_lambda’ <a href="command-opts.html#command-opts">option</a>.</li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="outputs.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="software.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
